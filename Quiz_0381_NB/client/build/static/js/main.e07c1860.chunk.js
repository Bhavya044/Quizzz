(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,s){},63:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){},74:function(e,t,s){},76:function(e,t,s){},77:function(e,t,s){},78:function(e,t,s){},88:function(e,t){},90:function(e,t,s){},91:function(e,t,s){},92:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),i=s(34),c=s.n(i),r=(s(43),s(3)),o=s(4),u=s(6),l=s(5),d=s(7),h=s.n(d),j=s(14),p=s(8),m=s(13),b=s(0),v=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={email:"",password:"",firstName:"",lastName:"",isTeacher:!1},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"sign-in-wrapper",children:Object(b.jsxs)("div",{className:"form",children:[Object(b.jsxs)("div",{className:"input-wrapper",children:[Object(b.jsx)("div",{children:"Email Address"}),Object(b.jsx)("input",{className:"input",type:"text",placeholder:"Email Address",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})]}),Object(b.jsxs)("div",{className:"input-wrapper",children:[Object(b.jsx)("div",{children:"Password"}),Object(b.jsx)("input",{className:"input",type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})]}),Object(b.jsxs)("div",{className:"input-wrapper",children:[Object(b.jsx)("div",{children:"First Name"}),Object(b.jsx)("input",{className:"input",type:"text",placeholder:"First Name",value:this.state.firstName,onChange:function(t){return e.setState({firstName:t.target.value})}})]}),Object(b.jsxs)("div",{className:"input-wrapper",children:[Object(b.jsx)("div",{children:"Last Name"}),Object(b.jsx)("input",{className:"input",type:"text",placeholder:"Last Name",value:this.state.lastName,onChange:function(t){return e.setState({lastName:t.target.value})}})]}),Object(b.jsxs)("div",{className:"input-wrapper",children:[Object(b.jsx)("div",{children:"Are you a teacher?"}),Object(b.jsx)("br",{}),Object(b.jsxs)("select",{className:"form-select",defaultValue:this.state.isTeacher,"aria-label":"Default select example",onChange:function(t){return e.setState({isTeacher:t.target.value})},children:[Object(b.jsx)("option",{value:"true",children:"Yes"}),Object(b.jsx)("option",{value:"false",children:"No"})]})]}),Object(b.jsx)("div",{className:"btn ",style:{textAlign:"center"},onClick:function(){return e.props.signUp(Object(m.a)({},e.state))},children:"Sign Up"})]})})}}]),s}(n.a.Component),O=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={email:"",password:""},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"sign-in-wrapper",children:Object(b.jsxs)("div",{className:"form",children:[Object(b.jsxs)("div",{className:"input-wrapper",children:[Object(b.jsx)("div",{children:"Email Address"}),Object(b.jsx)("input",{className:"input",type:"text",placeholder:"Email Address",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})]}),Object(b.jsxs)("div",{className:"input-wrapper",children:[Object(b.jsx)("div",{children:"Password"}),Object(b.jsx)("input",{className:"input",type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})]}),Object(b.jsx)("div",{className:"btn",style:{textAlign:"center"},onClick:function(){return e.props.signIn(e.state.email,e.state.password)},children:"Sign in"})]})})}}]),s}(n.a.Component),x=s(35),g={user:null},f=Object(x.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return"login"===t.type?(localStorage.setItem("JWT_PAYLOAD",t.token),localStorage.setItem("_ID",t._id),Object(m.a)(Object(m.a)({},e),{},{user:t.user})):"set_user"===t.type?Object(m.a)(Object(m.a)({},e),{},{user:t.user}):e})),z=s(12),w=s.n(z),N=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).hideScreen=function(){w()(a.toastRef.current).fadeIn(200),document.getElementsByTagName("html")[0].style.overflow="hidden"},a.showScreen=function(){w()(a.toastRef.current).fadeOut(200),document.getElementsByTagName("html")[0].style.overflow="auto"},a.toastRef=n.a.createRef(),a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){w()(this.toastRef.current).hide()}},{key:"render",value:function(){var e;return!0===this.props.model?this.hideScreen():this.showScreen(),e=Object(b.jsx)("div",{ref:this.toastRef,style:{overflow:"scroll",position:"absolute",top:"25px",right:"15px",zIndex:this.props.zIndex?this.props.zIndex:20,backgroundColor:this.props.backgroundColor?this.props.backgroundColor:"#30D158",width:"fit-content",color:"white",borderRadius:"5px",padding:"20px 30px"},children:this.props.message}),Object(b.jsx)("div",{children:e})}}]),s}(n.a.Component),q=(s(63),function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).signIn=function(e,t){h.a.post("/api/users/login",{email:e,password:t}).then((function(e){e.data.success?(f.dispatch({type:"login",_id:e.data.user._id,user:e.data.user,token:e.data.token}),a.props.history.push("/my-quizzes")):(a.setState({showToast:!0}),setTimeout((function(){a.setState({showToast:!1})}),3e3))})).catch((function(e){a.setState({showToast:!0}),setTimeout((function(){a.setState({showToast:!1})}),3e3)}))},a.signUp=function(e){var t=e.firstName,s=e.lastName,n=e.email,i=e.password,c=e.isTeacher;h.a.post("/api/users/register",{firstName:t,lastName:s,email:n,password:i,isTeacher:c}).then((function(e){e.data.success&&a.setState({tab:"signin"})})).catch((function(e){console.log(e)}))},a.changeTab=function(){a.setState({tab:"signup"===a.state.tab?"signin":"signup"})},a.state={tab:"signin",showToast:!1},a}return Object(o.a)(s,[{key:"render",value:function(){var e="signin"===this.state.tab?Object(b.jsx)(O,{signIn:this.signIn}):Object(b.jsx)(v,{signUp:this.signUp});return Object(b.jsxs)("div",{className:"auth-wrapper",children:[Object(b.jsx)(N,{model:this.state.showToast,message:"Invalid Credentials",backgroundColor:"#FF4539"}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{className:"heading1 ",children:"Quiz"}),e,Object(b.jsx)("div",{className:"new",onClick:this.changeTab,children:"signin"===this.state.tab?"Sign up here":"Already have an account? Sign in"})]})]})}}]),s}(n.a.Component)),y=(s(64),s(65),function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).bgImage=function(){return f.getState().user.avatar&&f.getState().user.avatar.url?"url(".concat(f.getState().user.avatar.url,")"):"url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRO0hdrY8JPa6KVVvEo0uKO68yOoVt_-xBzsw&usqp=CAU)"},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=f.subscribe((function(){return e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return f.getState().user?Object(b.jsxs)("div",{className:"sidebar-wrapper",children:[Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("div",{className:"avatar",style:{backgroundImage:this.bgImage()}}),Object(b.jsx)("div",{className:"name",children:f.getState().user.firstName+" "+f.getState().user.lastName})]}),Object(b.jsxs)("div",{className:"links",children:[f.getState().user.isTeacher?Object(b.jsx)(j.b,{to:"/my-quizzes",children:Object(b.jsxs)("div",{className:"link",children:["Created Quizzes ",Object(b.jsx)("i",{class:"fa-solid fa-feather"})]})}):null,f.getState().user.isTeacher?Object(b.jsx)(j.b,{to:"/create-quiz",children:Object(b.jsxs)("div",{className:"link",children:["Create Quiz ",Object(b.jsx)("i",{class:"fa-solid fa-plus"})]})}):null,Object(b.jsx)(j.b,{to:"/community-quizzes",children:Object(b.jsxs)("div",{className:"link",children:["Take Quiz ",Object(b.jsx)("i",{class:"fa-solid fa-users"})]})})]})]}):Object(b.jsx)("div",{children:"Loading"})}}]),s}(n.a.Component)),S=(n.a.Component,s(74),function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).hideScreen=function(){w()(a.modalRef.current).fadeIn(200),document.getElementsByTagName("html")[0].style.overflow="hidden"},a.showScreen=function(){w()(a.modalRef.current).fadeOut(200),document.getElementsByTagName("html")[0].style.overflow="auto"},a.modalRef=n.a.createRef(),a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){w()(this.modalRef.current).hide()}},{key:"render",value:function(){var e;return!0===this.props.model?this.hideScreen():this.showScreen(),e=Object(b.jsx)("div",{ref:this.modalRef,style:{overflow:"scroll",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:this.props.zIndex?this.props.zIndex:20,width:"100vw",backgroundColor:this.props.backgroundColor?this.props.backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"flex-end",justifyContent:"center"},children:Object(b.jsx)("div",{style:{backgroundColor:this.props.noBg?"":"white",borderRadius:"20px",padding:"20px"},children:this.props.children})}),Object(b.jsx)("div",{children:e})}}]),s}(n.a.Component)),k=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).selectPrivate=function(e){!0===e.target.checked?a.setState({mustBeSignedIn:e.target.checked}):a.setState({mustBeSignedIn:!1})},a.addAnswer=function(){a.setState({answers:a.state.answers.concat("")})},a.updateAnswer=function(e,t){var s=Object.assign([],a.state.answers);s[t]=e.target.value,a.setState({answers:s})},a.saveQuestion=function(){var e={answers:a.state.answers,correctAnswer:a.state.correctAnswer,questionName:a.state.questionName,duration:a.state.duration};a.setState({questions:a.state.questions.concat(e),addQuestion:!1,questionName:"",answers:[],correctAnswer:"",passingPoints:a.state.passingPoints})},a.removeQuestion=function(e){a.setState({questions:a.state.questions.filter((function(t){return t.questionName!==e.questionName}))})},a.saveQuiz=function(){var e={mustBeSignedIn:a.state.mustBeSignedIn,name:a.state.name,questions:a.state.questions,category:a.state.categoryVal,imgUrl:a.state.imgUrl,passingPoints:a.state.passingPoints,duration:a.state.duration};h.a.post("/api/quizzes/create",{quiz:e,createdBy:localStorage.getItem("_ID")}).then((function(e){e.data.success&&(a.setState({questions:[],answers:[],categoryVal:"Computer Science",duration:"",passingPoints:a.state.passingPoints,showToast:!0}),setTimeout((function(){a.setState({showToast:!1})}),3e3))})).catch((function(e){console.error(e)}))},a.state={categories:["Math","Science","Technology","Sports","History","Computer Science","Entertainment","Grammar","German"],categoryVal:"Computer Science",mustBeSignedIn:!1,questions:[],name:"",addQuestion:!1,questionName:"",answers:[],correctAnswer:"",showToast:!1,imgUrl:"",passingPoints:0,duration:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){localStorage.getItem("JWT_PAYLOAD")||this.props.history.push("/")}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"create-quiz-wrapper",children:[Object(b.jsx)(N,{model:this.state.showToast,message:"Quiz Created"}),Object(b.jsx)("div",{children:Object(b.jsx)(y,{})}),Object(b.jsxs)("div",{className:"main",children:[Object(b.jsx)("div",{className:"header",children:" Create New Quiz"}),Object(b.jsxs)("div",{className:"form card",children:[Object(b.jsx)("input",{className:"input",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name,placeholder:"Quiz Name"}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{}),Object(b.jsx)("input",{className:"input",onChange:function(t){return e.setState({imgUrl:t.target.value})},value:this.state.imgUrl,placeholder:"Img url"}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{}),Object(b.jsx)("input",{type:"number",className:"input",onChange:function(t){return e.setState({passingPoints:t.target.value})},value:this.state.passingPoints,placeholder:"Passing Score(Percentage)?"}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{}),Object(b.jsx)("select",{value:this.state.categoryVal,onChange:function(t){return e.setState({categoryVal:t.target.value})},className:"input select",placeholder:"Category",children:this.state.categories.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"input",placeholder:"time of each question in m",value:this.state.duration,onChange:function(t){return e.setState({duration:t.target.value})}}),Object(b.jsxs)("div",{className:"checkbox",children:[Object(b.jsx)("span",{children:"Must be logged in to take"}),Object(b.jsx)("input",{checked:this.state.mustBeSignedIn,onChange:this.selectPrivate,type:"checkbox",placeholder:"Must be logged in to take"})]}),this.state.questions.map((function(t,s){return Object(b.jsxs)("div",{className:"question",children:[Object(b.jsx)("div",{children:t.questionName}),Object(b.jsxs)("div",{children:["Correct Answer: ",t.correctAnswer]}),Object(b.jsxs)("div",{children:["Num of answers: ",t.answers.length]}),Object(b.jsx)("span",{className:"btn delete",onClick:function(){return e.removeQuestion(t)},children:"Delete"}),Object(b.jsx)("div",{className:"edit",children:Object(b.jsx)("button",{})})]},s)})),Object(b.jsx)("div",{className:"questions",children:Object(b.jsx)("div",{className:"add-question",onClick:function(){return e.setState({addQuestion:!0})},children:"Add Question"})}),Object(b.jsx)("span",{onClick:function(){return e.saveQuiz()},className:"btn save-quiz",children:"Save Quiz"}),Object(b.jsx)(S,{model:this.state.addQuestion,children:Object(b.jsxs)("div",{className:"new-question-form",children:[Object(b.jsx)("input",{className:"input",placeholder:"Question",value:this.state.questionName,onChange:function(t){return e.setState({questionName:t.target.value})}})," ",Object(b.jsx)("br",{}),"|",Object(b.jsx)("div",{children:"Answers :"}),this.state.answers.map((function(t,s){return Object(b.jsxs)("div",{className:"answer-form",children:[Object(b.jsx)("input",{type:"radio",value:e.state.ans,onChange:function(s){return e.setState({correctAnswer:t})},name:"answer"})," ",Object(b.jsx)("input",{className:"input",type:"text",placeholder:"Answer",value:e.state.answers[s],onChange:function(t){return e.updateAnswer(t,s)}})]},s)})),Object(b.jsx)("div",{className:"add-answer",onClick:this.addAnswer,children:"Add Answer"}),Object(b.jsxs)("div",{className:"btn-wrapper",children:[Object(b.jsx)("div",{className:"btn",style:{marginRight:"500px"},onClick:function(){return e.setState({addQuestion:!1})},children:Object(b.jsx)("i",{class:"fa-solid fa-xmark"})}),Object(b.jsx)("div",{className:"btn",onClick:this.saveQuestion,children:Object(b.jsx)("i",{class:"fa-solid fa-check"})})]})]})})]})]})]})}}]),s}(n.a.Component),C=s(16),I=s.n(C),Q=s(24),A=(s(76),function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).updateQuiz=Object(Q.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("/api/quizzes/update-quiz/"+a.state.id,{name:a.state.name,passingPoints:a.state.passingPoints});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),a.deleteQuiz=function(){var e=Object(Q.a)(I.a.mark((function e(t){var s,n,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t._id,a.setState({quizzes:a.state.quizzes.filter((function(e){return e._id!==s}))}),e.next=4,h.a.delete("/api/quizzes/delete/".concat(s));case 4:return n=e.sent,e.next=7,n.data();case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.takeQuiz=function(e){a.props.history.push("/view-quiz?id="+e)},a.state={quizzes:[],id:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/api/quizzes/my-quizzes/"+localStorage.getItem("_ID")).then((function(t){e.setState({quizzes:t.data})}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"my-quizzes-wrapper",children:[Object(b.jsx)("div",{children:Object(b.jsx)(y,{})}),Object(b.jsxs)("div",{className:"body",children:[Object(b.jsx)("div",{className:"header-top",children:"My Quizzes"}),Object(b.jsx)("div",{className:"quizzes-wrapper",children:this.state.quizzes.map((function(t,s){return Object(b.jsxs)("div",{className:"quiz-card card",children:[Object(b.jsx)("img",{alt:"",src:t.imgUrl||"https://images.unsplash.com/photo-1518770660439-4636190af475?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8dGVjaG5vbG9neXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80"}),Object(b.jsx)("div",{className:"quiz-name",children:t.name}),Object(b.jsx)("div",{className:"category",children:t.category}),Object(b.jsxs)("div",{className:"questions",children:[t.questions.length," Questions"]}),Object(b.jsx)("div",{className:"btn",style:{backgroundColor:"red",width:"18px"},onClick:function(){return e.deleteQuiz(t)},children:Object(b.jsx)("i",{class:"fa-solid fa-trash"})}),Object(b.jsx)("div",{className:"take-quiz btn",onClick:function(){return e.takeQuiz(t._id)},children:"Take Quiz"}),Object(b.jsxs)("div",{className:"top-section",children:[Object(b.jsxs)("div",{className:"views",children:[t.views," ",Object(b.jsx)("img",{alt:" ",src:"https://www.pngkit.com/png/full/525-5251817_security-governance-privacy-eye-icon-font-awesome.png"})," "]}),Object(b.jsxs)("div",{className:"likes",children:[t.likes," ",Object(b.jsx)("img",{alt:"",src:"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678087-heart-512.png"})]})]})]},s)}))})]})]})}}]),s}(n.a.Component)),T=(s(77),function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).likeQuiz=function(e){h.a.post("/api/quizzes/like-quiz",{quizId:e,userId:localStorage.getItem("_ID")}).then((function(e){e.data&&(a.setState({showToast:!0,message:e.data.message}),h.a.get("/api/quizzes/all-quizzes").then((function(e){a.setState({quizzes:e.data})})),setTimeout((function(){a.setState({showToast:!1,message:e.data.message})}),3e3))}))},a.takeQuiz=function(e){a.props.history.push("/view-quiz?id="+e)},a.state={quizzes:[],showToast:!1,message:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/api/quizzes/all-quizzes").then((function(t){e.setState({quizzes:t.data})}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"community-quizzes-wrapper",children:[Object(b.jsx)(N,{model:this.state.showToast,message:this.state.message}),Object(b.jsx)("div",{children:Object(b.jsx)(y,{})}),Object(b.jsxs)("div",{className:"body",children:[Object(b.jsx)("div",{className:"header-top",children:"All Quizzes"}),Object(b.jsx)("div",{className:"quizzes-wrapper",children:this.state.quizzes.map((function(t,s){return Object(b.jsxs)("div",{className:"quiz-card card",children:[Object(b.jsx)("img",{src:t.imgUrl||"https://images.unsplash.com/photo-1518770660439-4636190af475?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8dGVjaG5vbG9neXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80"}),Object(b.jsx)("div",{className:"quiz-name",children:t.name}),Object(b.jsx)("div",{className:"category",children:t.category}),Object(b.jsxs)("div",{className:"questions",children:[t.questions.length," Questions"]}),Object(b.jsx)("div",{className:"take-quiz btn",onClick:function(){return e.takeQuiz(t._id)},children:"Take Quiz"}),Object(b.jsx)("div",{className:"top-section",children:Object(b.jsxs)("div",{className:"likes",children:[t.likes," ",Object(b.jsx)("img",{style:{cursor:"pointer",padding:"5px"},onClick:function(){return e.likeQuiz(t._id)},src:"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678087-heart-512.png"})]})})]},s)}))})]})]})}}]),s}(n.a.Component)),P=(s(78),s(15)),D=s.n(P),_=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).checkAuth=function(){a.state.quiz.mustBeSigned&&localStorage.getItem("JWT_PAYLOAD")&&localStorage.getItem("_ID")?a.setState({isAuthenticated:!0}):a.state.quiz.mustBeSigned&&a.setState({isAuthenticated:!1})},a.refreshQuiz=function(){h.a.get("/api/quizzes/get-quiz/"+D.a.parse(a.props.location.search,{ignoreQueryPrefix:!0}).id).then((function(e){e.data&&(a.setState({isLoading:!1,quiz:e.data.quiz}),a.checkAuth())})).catch((function(e){console.log(e)}))},a.startQuiz=function(){a.props.history.push({pathname:"/take-quiz/"+a.state.id,state:{quiz:a.state.quiz}})},a.addComment=function(){a.state.inputVal.length&&h.a.post("/api/quizzes/add-comment",{quizId:a.state.id,message:a.state.inputVal,sentFromId:localStorage.getItem("_ID")}).then((function(e){e.data&&(a.refreshQuiz(),a.setState({inputVal:""}))})).catch((function(e){console.log(e)}))},a.state={id:"",quiz:{},isLoading:!0,isAuthenticated:!0,inputVal:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=D.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).id;this.setState({id:e}),this.refreshQuiz()}},{key:"render",value:function(){var e=this;return this.state.isLoading?Object(b.jsx)("h2",{children:"Loading"}):Object(b.jsx)("div",{className:"view-quiz",children:this.state.isAuthenticated?Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"header",children:[this.state.quiz.name,", Duration:",this.state.quiz.duration," minutes per question"]}),Object(b.jsxs)("div",{className:"body",children:[Object(b.jsxs)("div",{className:"left",children:[Object(b.jsx)("div",{className:"description",children:this.state.quiz.description}),Object(b.jsxs)("div",{className:"comments",children:[this.state.quiz.comments.map((function(e,t){return Object(b.jsxs)("div",{className:"comment",children:[Object(b.jsx)("img",{alt:"",style:{borderRadius:"100%"},className:"img",src:"https://img.pngio.com/png-avatar-108-images-in-collection-page-3-png-avatar-300_300.png"}),Object(b.jsx)("div",{children:e.message}),Object(b.jsx)("div",{children:e.sentFromName})]},t)})),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("input",{value:this.state.inputVal,onChange:function(t){return e.setState({inputVal:t.target.value})},type:"text",placeholder:"Add new chat"}),Object(b.jsx)("button",{onClick:this.addComment,children:"Send"})]})]})]}),Object(b.jsxs)("div",{className:"right",children:[Object(b.jsxs)("div",{className:"questions-num",children:[this.state.quiz.questions.length," Questions"]}),Object(b.jsxs)("div",{className:this.state.quiz.createdBy===localStorage.getItem("_ID")?"questions-wrapper":"questions-wrapper no-scroll",children:[this.state.quiz.questions.map((function(t,s){return Object(b.jsxs)("div",{className:"question",children:[Object(b.jsx)("div",{children:e.state.quiz.createdBy===localStorage.getItem("_ID")?t.questionName:"question name"}),Object(b.jsx)("div",{children:e.state.quiz.createdBy===localStorage.getItem("_ID")?t.correctAnswer:"answer"})]},s)})),this.state.quiz.createdBy!==localStorage.getItem("_ID")?Object(b.jsx)("div",{className:"hidden",children:Object(b.jsx)("div",{children:"Must be creator to look at questions"})}):""]})]})]}),Object(b.jsx)("div",{className:"footer",children:Object(b.jsxs)("div",{className:"buttons-wrapper",children:[Object(b.jsx)("button",{onClick:function(){return e.props.history.goBack()},children:"Go Back"}),Object(b.jsx)("button",{onClick:this.startQuiz,children:"Take Quiz"})]})})]}):Object(b.jsx)("div",{className:"not-auth",children:"You must be logged in to take this quiz"})})}}]),s}(n.a.Component),M=(s(90),s(38)),B=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).timerOut=function(e){var t=e.hours,s=e.minutes,a=e.seconds;return e.completed?alert("time is up"):Object(b.jsxs)("span",{children:[t,":",s,":",a]})},a.currentPoints=function(e){return!0===a.state.answers[a.state.activeQuestionIdx]&&(e+=1),e},a.nextQuestion=function(){var e=a.state.activeQuestionIdx;++e!==a.state.quiz.questions.length&&(a.setState({activeQuestionIdx:e}),a.setState({duration:a.state.duration}))},a.getPercentage=function(e){var t=0;e.forEach((function(e){0!==e&&(t+=1/a.state.answers.length)})),a.setState({percentage:t})},a.selectAnswer=function(e,t){var s=a.state.quiz;s.questions[a.state.activeQuestionIdx].answers.forEach((function(e){e.selected=!1})),s.questions[a.state.activeQuestionIdx].answers[t].selected=!0;var n=a.state.answers;e.name===a.state.quiz.questions[a.state.activeQuestionIdx].correctAnswer?n[a.state.activeQuestionIdx]=!0:n[a.state.activeQuestionIdx]=!1,a.setState({quiz:s,answers:n}),a.getPercentage(n),a.setState({percentage:a.state.percentage})},a.showModal=function(){w()("#modal-wrapper-quiz").fadeIn(300)},a.hideModal=function(){w()("#modal-wrapper-quiz").fadeOut(300)},a.finishQuiz=function(){h.a.post("/api/quizzes/save-results",{currentUser:localStorage.getItem("_ID"),answers:a.state.answers,quizId:a.state.quiz._id,percentage:a.state.percentage}).then((function(e){e.data&&a.props.history.push("/view-results?id="+e.data.scoreId)}))},a.state={quiz:{},authorized:!1,answers:[],activeQuestionIdx:0,percentage:0,passingPoints:a.props.location.state.quiz.passingPoints,earnedPoints:0,duration:a.props.location.state.quiz.duration},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){w()("#modal-wrapper-quiz").hide(),void 0!==this.props.location.state&&(this.setState({authorized:!0}),this.setState({quiz:this.props.location.state.quiz,answers:Array(this.props.location.state.quiz.questions.length).fill(0)})),this.setState({duration:this.state.duration}),this.setState({earnedPoints:this.currentPoints()})}},{key:"render",value:function(){var e=this,t=this.state,s=t.quiz,a=t.activeQuestionIdx;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{id:"modal-wrapper-quiz",className:"modal-wrapper-quiz",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("div",{className:"header",children:"Are you sure you wish to submit your answers"}),Object(b.jsxs)("div",{className:"buttons-wrapper",children:[Object(b.jsx)("button",{onClick:this.hideModal,children:"Cancel"}),Object(b.jsx)("button",{onClick:this.finishQuiz,children:"Yes"})]})]})}),Object(b.jsx)("div",{className:"take-quiz-wrapper",children:this.state.authorized?Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("div",{className:"header",children:Object(b.jsxs)("div",{className:"left",children:["Time remaining:       ",Object(b.jsx)(M.a,{date:Date.now()+6e4*this.state.duration,renderer:this.timerOut}),Object(b.jsxs)("div",{children:["  Passing points: ",this.state.passingPoints]}),Object(b.jsxs)("div",{children:["  Earned points: ",this.currentPoints(0)]})]})}),Object(b.jsxs)("div",{className:"body",children:[Object(b.jsxs)("div",{className:"left",children:[Object(b.jsx)("div",{className:"question-name",children:s.questions[a].questionName}),Object(b.jsx)("div",{className:"question-bubble-wrapper",children:this.state.quiz.questions.map((function(t,s){return Object(b.jsx)("span",{onClick:function(){return e.setState({activeQuestionIdx:s})},className:e.state.activeQuestionIdx===s?"question-bubble selected-bubble":0===e.state.answers[s]?"question-bubble":"question-bubble bubble-correct",children:s+1},s)}))})]}),Object(b.jsx)("div",{className:"right",children:Object(b.jsx)("div",{className:"answers-wrapper",children:s.questions[a].answers.map((function(t,s){return Object(b.jsx)("div",{onClick:function(){return e.selectAnswer(t,s)},className:!0===t.selected?"selected":"answer",children:t.name},s)}))})})]}),Object(b.jsx)("div",{className:"footer",children:Object(b.jsxs)("div",{className:"buttons-wrapper",children:[Object(b.jsx)("button",{onClick:this.nextQuestion,children:"Next"})," ",Object(b.jsx)("button",{onClick:this.showModal,children:"Submit Quiz"})]})})]}):Object(b.jsx)("div",{children:"Not authorized"})})]})}}]),s}(n.a.Component),R=(s(91),function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).getBorderLeft=function(e){return a.state.result.answers[e]?"5px solid green":"5px solid red"},a.getScore=function(){var e=a.state.result.answers.length;return a.state.result.answers.filter((function(e){return!0===e})).length/e*100+"%"},a.state={result:null,quiz:null},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.getItem("_ID")){var t=D.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).id;t?h.a.get("/api/quizzes/results/"+t).then((function(t){e.setState({result:t.data.score,quiz:t.data.quiz})})):this.props.history.push("/")}else this.props.history.push("/"),localStorage.clear()}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"view-results-wrapper",children:[Object(b.jsx)("div",{children:Object(b.jsx)(y,{})}),this.state.quiz&&this.state.result&&Object(b.jsxs)("div",{className:"body",children:[Object(b.jsx)("div",{className:"header",children:"Results"}),Object(b.jsxs)("div",{className:"quiz-data",children:[Object(b.jsxs)("div",{className:"left",children:[Object(b.jsx)("div",{className:"header",children:this.state.quiz.name}),Object(b.jsx)("div",{className:"category",children:this.state.quiz.category}),Object(b.jsxs)("div",{className:"comments",children:[this.state.quiz.comments.length," Comments"]})]}),Object(b.jsxs)("div",{className:"right",children:[Object(b.jsxs)("div",{className:"likes",children:[this.state.quiz.likes," Likes"]}),Object(b.jsxs)("div",{className:"others",children:[this.state.quiz.scores.length," other people have taken this quiz"]})]})]}),Object(b.jsxs)("div",{className:"score",children:["Score: ",this.getScore()]}),Object(b.jsx)("div",{className:"answers",children:this.state.quiz.questions.map((function(t,s){return Object(b.jsx)("div",{className:"answer",style:{borderLeft:e.getBorderLeft(s)},children:Object(b.jsx)("div",{children:t.questionName})},s)}))})]})]})}}]),s}(n.a.Component)),L=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){localStorage.getItem("_ID")&&h.a.get("/api/users/".concat(localStorage.getItem("_ID"))).then((function(e){f.dispatch({user:e.data.user,type:"set_user"})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"app",children:Object(b.jsx)(j.a,{children:Object(b.jsxs)(p.d,{children:[Object(b.jsx)(p.b,{exact:!0,path:"/",component:q}),Object(b.jsx)(p.b,{path:"/create-quiz",component:k}),Object(b.jsx)(p.b,{path:"/my-quizzes",component:A}),Object(b.jsx)(p.b,{path:"/community-quizzes",component:T}),Object(b.jsx)(p.b,{path:"/view-quiz",component:_}),Object(b.jsx)(p.b,{path:"/take-quiz",component:B}),Object(b.jsx)(p.b,{path:"/view-results",component:R}),Object(b.jsx)(p.b,{path:"*",children:Object(b.jsx)(p.a,{to:"/"})})]})})})}}]),s}(n.a.Component),U=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,93)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),i(e),c(e)}))},V=h.a.create({baseURL:"https://quizzes-nby.herokuapp.com/"});h.a.defaults.baseURL=V,h.a.defaults.headers.post["Content-Type"]="application/json",h.a.defaults.headers.common.Authorization=localStorage.getItem("JWT_PAYLOAD"),c.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root")),U()}},[[92,1,2]]]);
//# sourceMappingURL=main.e07c1860.chunk.js.map